<html><body bgcolor="#000000" text="#ffffff"><table><tr><td colspan="2"><h3>Problem Statement</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><p>
Bob has a very interesting job: he is a forklift truck operator.
Today he is facing the following problem at work.
</p>
<p>
</p>
<p>
There are initially N pallets placed in a row from the left to the right and numbered starting from 0.
Each pallet contains exactly one box on top of it.
There are two types of boxes: red boxes and blue boxes.
Each red box has height 1 and each blue box has height exactly sqrt(2).
</p>
<p>
</p>
<p>
In a single move, Bob can choose some consecutive set of pallets and, using a forklift truck, lift up all boxes from the set and put them down on top of some other consecutive set of pallets.
(Note that when one box is placed on top of another box, the height of the resulting stack is precisely equal to the sum of heights of both boxes.)
More formally, in a single move Bob can do the following four steps (in the given order):
</p>
<ol>
<li>Choose any non-empty consecutive set of pallets. (I.e., pallets with indices from A to B, inclusive, for some A and B.) Bob is going to lift up the stacks of boxes that are currently placed on these pallets.</li>
<li>Choose any non-empty consecutive set of pallets disjoint with the first set. The number of pallets must be the same as in the first set. Additionally, the stacks of boxes on the pallets that were selected in this step must all have exactly the same height. Bob is going to place the stacks he lifted in step 1 onto these stacks.</li>
<li>Bob moves the stacks of boxes from the first set of pallets onto the stacks of boxes on the second set of pallets. Note that the order of stacks must be preserved. E.g., if he lifted up stacks of boxes from pallets 2-4 and now he wants to place them onto pallets 6-8, stack from pallet 2 goes onto pallet 6, and so on.</li>
<li>After the move, all empty pallets are removed. The remaining pallets are pushed together and then renumbered starting from 0.</li>
</ol>
<p>
</p>
<p>
The height of a pallet is defined as the sum of heights of boxes placed on it. 
To avoid unnecessary chaos, Bob decided that after each move there should be at most two different pallet heights.
In other words, there must never be any three pallets with three different heights.
</p>
<p>
</p>
<p>
You are given a string <b>pallets</b> which contains N characters.
For each valid i, the i-th character of <b>pallets</b> is 'R' if initially the box on the i-th pallet is a red box, and 'B' if it is a blue one.
Bob's task is to find some sequence of moves such that after executing all moves from this sequence there would be exactly one pallet left with all the initial boxes placed on top of it (in any order).
Return the minimum possible size of such sequence.
If such sequence doesn't exist, return -1 instead.
</p>
</td></tr><tr><td colspan="2"><h3>Definition</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Class:</td><td>ForkliftTruckOperator</td></tr><tr><td>Method:</td><td>getNumber</td></tr><tr><td>Parameters:</td><td>string</td></tr><tr><td>Returns:</td><td>int</td></tr><tr><td>Method signature:</td><td>int getNumber(string pallets)</td></tr><tr><td colspan="2">(be sure your method is public)</td></tr></table></td></tr><tr><td colspan="2"><h3>Limits</h3></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td>Time limit (s):</td><td>2.000</td></tr><tr><td>Memory limit (MB):</td><td>256</td></tr><tr><td>Stack limit (MB):</td><td>256</td></tr></table></td></tr><tr><td colspan="2"><h3>Constraints</h3></td></tr><tr><td align="center" valign="top">-</td><td><b>pallets</b> will contain between 1 and 300 characters, inclusive.</td></tr><tr><td align="center" valign="top">-</td><td>Each character of <b>pallets</b> will be either 'R' or 'B'.</td></tr><tr><td colspan="2"><h3>Examples</h3></td></tr><tr><td align="center" nowrap="true">0)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;RRBRBR&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: 4</pre></td></tr><tr><td><table><tr><td colspan="2">The following picture shows the optimal sequence of 4 moves:
<p>
</p>
<img src="http://www.topcoder.com/contest/problem/ForkliftTruckOperator/img01_2.jpg"></img>
<p>
</p>
Note that in the third move Bob placed the rightmost two stacks onto the leftmost two stacks.
</td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">1)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;RB&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: 1</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">2)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;RRRRRR&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: 3</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">3)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;RRRRBBBBBBBBB&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: 5</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">4)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;RBRBRBRBRBRBRB&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: -1</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">5)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;B&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: 0</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr><tr><td align="center" nowrap="true">6)</td><td></td></tr><tr><td>&#160;&#160;&#160;&#160;</td><td><table><tr><td><table><tr><td><pre>&quot;BBBBBBBBBBBBBBBBRRRRRRRRBRBBRRRR&quot;</pre></td></tr></table></td></tr><tr><td><pre>Returns: 5</pre></td></tr><tr><td><table><tr><td colspan="2"></td></tr></table></td></tr></table></td></tr></table><p>This problem statement is the exclusive and proprietary property of TopCoder, Inc.  Any unauthorized use or reproduction of this information without the prior written consent of TopCoder, Inc. is strictly prohibited.  (c)2003, TopCoder, Inc.  All rights reserved.  </p></body></html>
